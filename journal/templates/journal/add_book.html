<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* –î–µ–ª–∞–µ–º –ø–æ–ª—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∏ –≥–ª–∞–≤–Ω—ã—Ö –≥–µ—Ä–æ–µ–≤ —à–∏—Ä–µ */
        textarea {
            width: 100%;
            min-height: 120px;
            resize: vertical;
        }
    </style>
</head>
<body class="container mt-4">

    <h2 class="mb-4 text-center">üìñ –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</h2>

    <form method="post" class="card p-4 shadow-sm bg-light">
        {% csrf_token %}

        {% for field in form %}
            <div class="mb-3">
                <label class="form-label fw-bold">
                    {% if field.name == "title" %}–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏
                    {% elif field.name == "author" %}–ê–≤—Ç–æ—Ä
                    {% elif field.name == "start_date" %}–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —á—Ç–µ–Ω–∏—è
                    {% elif field.name == "end_date" %}–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —á—Ç–µ–Ω–∏—è
                    {% elif field.name == "main_characters" %}–ì–ª–∞–≤–Ω—ã–µ –≥–µ—Ä–æ–∏
                    {% elif field.name == "description" %}–û–ø–∏—Å–∞–Ω–∏–µ
                    {% elif field.name == "rating" %}–û—Ü–µ–Ω–∫–∞ (–æ—Ç 1 –¥–æ 5)
                    {% else %}{{ field.label }}
                    {% endif %}
                </label>

                {% if field.name in "start_date end_date" %}
                    <!-- –ü–æ–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã —Å —Ä—É—Å—Å–∫–∏–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º -->
                    <input type="date" name="{{ field.name }}" class="form-control" value="{{ field.value|default:'' }}" required>
                {% elif field.name in "main_characters description" %}
                    <!-- –î–µ–ª–∞–µ–º textarea —à–∏—Ä–µ -->
                    <textarea name="{{ field.name }}" class="form-control" required>{{ field.value|default:'' }}</textarea>
                {% else %}
                    {{ field }}
                {% endif %}

                {% if field.help_text %}
                    <div class="form-text">{{ field.help_text }}</div>
                {% endif %}

                {% for error in field.errors %}
                    <div class="text-danger">{{ error }}</div>
                {% endfor %}
            </div>
        {% endfor %}

        <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-success">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚úÖ</button>
            <a href="{% url 'index' %}" class="btn btn-secondary">‚¨Ö –ù–∞–∑–∞–¥</a>
        </div>
    </form>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è–∑—ã–∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–∞ —Ä—É—Å—Å–∫–∏–π
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll('input[type="date"]').forEach(input => {
                input.setAttribute("lang", "ru");
            });
        });
    </script>

</body>
</html>
